{% extends 'base.html.twig' %}

{% block title %}{{ post.title }}{% endblock %}

{% block body %}
<div class="container mt-4">
    <h1>{{ post.title }}</h1>
    <p class="text-muted">Kategoria: {{ post.category.name }}</p>

    <div class="mb-4">
        {{ post.content|nl2br }}
    </div>

    <a href="{{ path('post_edit', {'id': post.id}) }}" class="btn btn-warning">Edytuj</a>
    <form action="{{ path('post_delete', {'id': post.id}) }}" method="post" style="display:inline;">
        <input type="hidden" name="_method" value="DELETE">
        <button class="btn btn-danger">Usu≈Ñ</button>
    </form>

    <hr>

    <h4>Komentarze</h4>
    {% for comment in post.comments %}
        <div class="border rounded p-2 mb-2">
            <strong>{{ comment.nick }}</strong> ({{ comment.email }})<br>
            {{ comment.content|nl2br }}
        </div>
    {% else %}
        <p>Brak komentarzy.</p>
    {% endfor %}

    <hr>
    <h5>Dodaj komentarz</h5>
    {{ form_start(commentForm) }}
        {{ form_row(commentForm.nick) }}
        {{ form_row(commentForm.email) }}
        {{ form_row(commentForm.content) }}
        <button class="btn btn-success">Dodaj</button>
    {{ form_end(commentForm) }}
</div>
{% endblock %}
