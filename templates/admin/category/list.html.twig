{% extends 'base.html.twig' %}

{% block title %}Lista kategorii{% endblock %}

{% block body %}
<h1>Kategorie</h1>

<a href="{{ path('categories_new') }}" class="btn btn-success mb-3">Dodaj nową kategorię</a>

<ul class="list-group">
  {% for category in categories %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
      {{ category.name }}
      <div>
        <a href="{{ path('categories_edit', {'id': category.id}) }}" class="btn btn-primary btn-sm">Edytuj</a>
        <form method="post" action="{{ path('categories_delete', {'id': category.id}) }}" style="display:inline-block" onsubmit="return confirm('Na pewno usunąć kategorię?');">
          <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ category.id) }}">
          <button class="btn btn-danger btn-sm">Usuń</button>
        </form>
      </div>
    </li>
  {% else %}
    <li class="list-group-item">Brak kategorii.</li>
  {% endfor %}
</ul>

<a href="{{ path('admin_dashboard') }}" class="btn btn-secondary mt-3">Powrót do panelu administratora</a>
{% endblock %}
